<?xml version="1.0" encoding="UTF-8"?>
	<project name="rukoru" default="do-deploy" basedir="."  xmlns:fx="javafx:com.sun.javafx.tools.ant">
	<target name="init-fx-tasks">
		<path id="fxant">
			<filelist>
				<file name="${java.home}\..\lib\ant-javafx.jar"/>
				<file name="${java.home}\lib\jfxrt.jar"/>
			</filelist>
		</path>
	
		<taskdef resource="com/sun/javafx/tools/ant/antlib.xml"
			uri="javafx:com.sun.javafx.tools.ant"
			classpathref="fxant"/>
	</target>
	<target name="setup-staging-area">
		<delete dir="externalLibs" />
		<delete dir="project" />
		<delete dir="projectRefs" />
	
		<mkdir dir="externalLibs" />
	
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.hamcrest\hamcrest-all\1.3\63a21ebc981131004ad02e0434e799fd7f3a8d5a">
				<filename name="hamcrest-all-1.3.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.google.inject\guice\4.1.0\eeb69005da379a10071aa4948c48d89250febb07">
				<filename name="guice-4.1.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.apache.httpcomponents\httpclient\4.5.2\733db77aa8d9b2d68015189df76ab06304406e50">
				<filename name="httpclient-4.5.2.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\aopalliance\aopalliance\1.0\235ba8b489512805ac13a8f9ea77a1ca5ebe3e8">
				<filename name="aopalliance-1.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.amazonaws\jmespath-java\1.11.256\bcb52b552cff0a3182555a60a8d7f3acc9fd866f">
				<filename name="jmespath-java-1.11.256.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.apache.httpcomponents\httpcore\4.4.4\b31526a230871fbe285fbcbe2813f9c0839ae9b0">
				<filename name="httpcore-4.4.4.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.amazonaws\aws-java-sdk-s3\1.11.256\58ad2ae871ab0bb99236f27f67edcf05d5b91cc0">
				<filename name="aws-java-sdk-s3-1.11.256.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.codehaus.mojo\animal-sniffer-annotations\1.14\775b7e22fb10026eed3f86e8dc556dfafe35f2d5">
				<filename name="animal-sniffer-annotations-1.14.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.google.guava\guava\23.5-jre\e9ce4989adf6092a3dab6152860e93d989e8cf88">
				<filename name="guava-23.5-jre.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.junit.platform\junit-platform-engine\1.0.2\ae5d9b8c44d78da636e4e1e00a907fe0fb7bcb8f">
				<filename name="junit-platform-engine-1.0.2.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.dataformat\jackson-dataformat-cbor\2.6.7\ba9e74b11135b18248e960df657a2b86ae77a079">
				<filename name="jackson-dataformat-cbor-2.6.7.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\commons-codec\commons-codec\1.9\9ce04e34240f674bc72680f8b843b1457383161a">
				<filename name="commons-codec-1.9.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.junit.jupiter\junit-jupiter-engine\5.0.0\811b65ec5a499732868f76c1d2a6f5786774ff82">
				<filename name="junit-jupiter-engine-5.0.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.junit.jupiter\junit-jupiter-api\5.0.0\f7fe1b74bef74d640493781abecafba191472ad">
				<filename name="junit-jupiter-api-5.0.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\javax.inject\javax.inject\1\6975da39a7040257bd51d21a231b76c915872d38">
				<filename name="javax.inject-1.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.apiguardian\apiguardian-api\1.0.0\3ef5276905e36f4d8055fe3cb0bdcc7503ffc85d">
				<filename name="apiguardian-api-1.0.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.opentest4j\opentest4j\1.0.0\6f09c598e9ff64bf0ce2fa7e7de49a99ba83c0b4">
				<filename name="opentest4j-1.0.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\software.amazon.ion\ion-java\1.0.2\ee9dacea7726e495f8352b81c12c23834ffbc564">
				<filename name="ion-java-1.0.2.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.junit.platform\junit-platform-commons\1.0.0\d2e03d9b21020746d48fe45834ff7d71fbcbd7b2">
				<filename name="junit-platform-commons-1.0.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\commons-logging\commons-logging\1.2\4bfc12adfe4842bf07b657f0369c4cb522955686">
				<filename name="commons-logging-1.2.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.h2database\h2\1.4.196\dd0034398d593aa3588c6773faac429bbd9aea0e">
				<filename name="h2-1.4.196.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.junit.platform\junit-platform-commons\1.0.2\e348a3a67940694f0718d04f9b0784b3dfb7819b">
				<filename name="junit-platform-commons-1.0.2.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.core\jackson-core\2.6.7\81838e08d5e10e33cdee7299f9682d836b78c63e">
				<filename name="jackson-core-2.6.7.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.google.j2objc\j2objc-annotations\1.1\ed28ded51a8b1c6b112568def5f4b455e6809019">
				<filename name="j2objc-annotations-1.1.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.checkerframework\checker-qual\2.0.0\518929596ee3249127502a8573b2e008e2d51ed3">
				<filename name="checker-qual-2.0.0.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.google.errorprone\error_prone_annotations\2.0.18\5f65affce1684999e2f4024983835efc3504012e">
				<filename name="error_prone_annotations-2.0.18.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.amazonaws\aws-java-sdk-kms\1.11.256\78231505cd93126cca5d3517448dd7c4e6d43bf5">
				<filename name="aws-java-sdk-kms-1.11.256.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.core\jackson-databind\2.6.7.1\306775aeb5164835a1dcbdf3f945587045cfb3b5">
				<filename name="jackson-databind-2.6.7.1.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\joda-time\joda-time\2.8.1\f5bfc718c95a7b1d3c371bb02a188a4df18361a9">
				<filename name="joda-time-2.8.1.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.google.code.findbugs\jsr305\1.3.9\40719ea6961c0cb6afaeb6a921eaa1f6afd4cfdf">
				<filename name="jsr305-1.3.9.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\org.junit.platform\junit-platform-launcher\1.0.2\7cd136827fbfe3e6301b95f0340d654ad54feaa4">
				<filename name="junit-platform-launcher-1.0.2.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.amazonaws\aws-java-sdk-core\1.11.256\b407ade0219fa9507f9817a1beb9e7e24859915b">
				<filename name="aws-java-sdk-core-1.11.256.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.amazonaws\aws-java-sdk-ec2\1.11.256\57a509e12051ca610a5ba39d85e57b9a7989ebb8">
				<filename name="aws-java-sdk-ec2-1.11.256.jar"/>
			</fileset>
		</copy>
		<copy todir="externalLibs">
			<fileset dir="C:\Users\Willard379\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.core\jackson-annotations\2.6.0\a0990e2e812ac6639b6ce955c91b13228500476e">
				<filename name="jackson-annotations-2.6.0.jar"/>
			</fileset>
		</copy>
	
		<mkdir dir="project" />
		<copy todir="project">
			<fileset dir="E:\workspace\rukoru\rukoru">
				<include name="src\main\java/**" />
			</fileset>
		</copy>
		<copy todir="project">
			<fileset dir="E:\workspace\rukoru\rukoru">
				<include name="src\main\resources/**" />
			</fileset>
		</copy>
	
		<mkdir dir="projectRefs" />
	</target>
	<target name='do-compile'>
		<delete dir="build" />
		<mkdir dir="build/src" />
		<mkdir dir="build/libs" />
		<mkdir dir="build/classes" />
	
		<!-- Copy project-libs references -->
		<copy todir="build/libs">
			<fileset dir="externalLibs">
				<include name="aws-java-sdk-ec2-1.11.256.jar"/>
				<include name="junit-jupiter-engine-5.0.0.jar"/>
				<include name="animal-sniffer-annotations-1.14.jar"/>
				<include name="commons-logging-1.2.jar"/>
				<include name="httpclient-4.5.2.jar"/>
				<include name="javax.inject-1.jar"/>
				<include name="guava-23.5-jre.jar"/>
				<include name="error_prone_annotations-2.0.18.jar"/>
				<include name="junit-platform-engine-1.0.2.jar"/>
				<include name="junit-platform-commons-1.0.0.jar"/>
				<include name="guice-4.1.0.jar"/>
				<include name="jackson-core-2.6.7.jar"/>
				<include name="jackson-dataformat-cbor-2.6.7.jar"/>
				<include name="aws-java-sdk-kms-1.11.256.jar"/>
				<include name="jackson-databind-2.6.7.1.jar"/>
				<include name="j2objc-annotations-1.1.jar"/>
				<include name="hamcrest-all-1.3.jar"/>
				<include name="aws-java-sdk-core-1.11.256.jar"/>
				<include name="ion-java-1.0.2.jar"/>
				<include name="h2-1.4.196.jar"/>
				<include name="junit-jupiter-api-5.0.0.jar"/>
				<include name="aopalliance-1.0.jar"/>
				<include name="joda-time-2.8.1.jar"/>
				<include name="checker-qual-2.0.0.jar"/>
				<include name="jackson-annotations-2.6.0.jar"/>
				<include name="aws-java-sdk-s3-1.11.256.jar"/>
				<include name="opentest4j-1.0.0.jar"/>
				<include name="junit-platform-commons-1.0.2.jar"/>
				<include name="apiguardian-api-1.0.0.jar"/>
				<include name="commons-codec-1.9.jar"/>
				<include name="jmespath-java-1.11.256.jar"/>
				<include name="jsr305-1.3.9.jar"/>
				<include name="httpcore-4.4.4.jar"/>
				<include name="junit-platform-launcher-1.0.2.jar"/>
			</fileset>
		</copy>
	
		<!-- Copy project references -->
	
		<!-- Copy project sources itself -->
		<copy todir="build/src">
			<fileset dir="project/src/main/resources">
				<include name="**/*"/>
			</fileset>
		</copy>
		<copy todir="build/src">
			<fileset dir="project/src/main/java">
				<include name="**/*"/>
			</fileset>
		</copy>
	
		<javac includeantruntime="false" source="1.8" target="1.8" srcdir="build/src" destdir="build/classes" encoding="UTF-8">
			<classpath>
				<fileset dir="build/libs">
					<include name="*"/>
				</fileset>
			</classpath>
		</javac>
	
		<!-- Copy over none Java-Files -->
		<copy todir="build/classes">
		<fileset dir="project/src/main/resources">
			<exclude name="**/*.java"/>
		</fileset>
		<fileset dir="project/src/main/java">
			<exclude name="**/*.java"/>
		</fileset>
		</copy>
	
	
	</target>
	<target name="do-deploy" depends="setup-staging-area, do-compile, init-fx-tasks">
		<delete file="dist"/>
		<delete file="deploy" />
	
		<mkdir dir="dist" />
		<mkdir dir="dist/libs" />
	
		<copy todir="dist/libs">
			<fileset dir="externalLibs">
				<include name="*" />
			</fileset>
		</copy>
	
	
		<fx:resources id="appRes">
			<fx:fileset dir="dist" includes="rukoru.jar"/>
			<fx:fileset dir="dist" includes="libs/*"/>
		</fx:resources>
	
		<fx:application id="fxApplication"
			name="rukoru"
			mainClass="hoshisugi.rukoru.Main"
		/>
	
		<mkdir dir="build/classes/META-INF" />
	
	
	
		<fx:jar destfile="dist/rukoru.jar">
			<fx:application refid="fxApplication"/>
			<fileset dir="build/classes">
			</fileset>
			<fx:resources refid="appRes"/>
	
			<manifest>
				<attribute name="Implementation-Vendor" value="cyberdudes-mf"/>
				<attribute name="Implementation-Title" value="rukoru"/>
				<attribute name="Implementation-Version" value="0.1.0"/>
				<attribute name="JavaFX-Feature-Proxy" value="None"/>
			</manifest>
		</fx:jar>
	
	
		<mkdir dir="deploy" />
		<!-- Need to use ${basedir} because somehow the ant task is calculating the directory differently -->
		<fx:deploy
			embedJNLP="false"
			extension="false"
			includeDT="false"
			offlineAllowed="true"
			outdir="${basedir}/deploy"
			outfile="rukoru" nativeBundles="exe"
			updatemode="background" >
	
			<fx:platform basedir="${java.home}"/>
			<fx:info title="rukoru" vendor="cyberdudes-mf"/>
	
			<fx:application refId="fxApplication"/>
			<fx:resources refid="appRes"/>
		</fx:deploy>
	
	
	</target>
</project>
